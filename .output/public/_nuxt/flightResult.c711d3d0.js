import{a as b,b as v,e as n,f as e,t as o,h as d,F as u,r as f,i as h,j as g,o as r,w as y,v as k,k as p,p as C,l as w}from"./entry.4caafed9.js";import{a as S}from"./axios.a28fc0ff.js";const x=""+globalThis.__publicAssetsURL("icons/blue2.png"),D=""+globalThis.__publicAssetsURL("icons/green2.png"),I=""+globalThis.__publicAssetsURL("icons/gr.png"),L=""+globalThis.__publicAssetsURL("icons/bl.png");const i=s=>(C("data-v-5976e299"),s=s(),w(),s),N={class:"flights"},R={class:"bottom-header"},$={class:"container"},F={class:"row",style:{position:"relative"}},A=i(()=>e("div",{class:"col-sm-1",style:{position:"absolute",top:"13px"}},[e("img",{src:"https://dsx9kbtamfpyb.cloudfront.net/desktop-web-fav4/images/arrows/back-left.png",alt:""})],-1)),E={class:"col-sm-3"},M={class:"text-white text-center fw-bold h6"},B={class:"text-center",style:{color:"#196df5"}},T={class:"col-sm-3"},W={class:"text-white text-center fw-bold h6"},j=i(()=>e("div",{class:"text-center",style:{color:"#196df5"}},"Departure",-1)),z={class:"col-sm-3"},P={class:"text-white text-center fw-bold h6"},U=i(()=>e("div",{class:"text-center",style:{color:"#196df5"}},"Return",-1)),K=i(()=>e("div",{class:"col-sm-3 text-end"},[e("button",{class:"btn btn-search-outline btn-change-search p10",style:{"min-width":"150px",background:"0 0",border:"1px solid #e6f0ff",color:"#e6f0ff",outline:"0","box-shadow":"none"}},[e("span",{class:"text","data-i18n":"flight.changesearch"},"Change Search")])],-1)),V={class:"container"},O={key:0,style:{height:"500px"}},Z={class:"text-center",style:{color:"#0a0f57","padding-top":"100px"}},X={key:1,class:"loader"},Y={class:"text-center mt-5",style:{color:"#0a0f57"}},q=i(()=>e("img",{src:"https://dsx9kbtamfpyb.cloudfront.net/desktop-web-fav4/images/search-result.gif",alt:""},null,-1)),G={key:2,class:"row pt-5"},H={class:"col-3"},J={class:"color"},Q={class:"d-flex align-items-center mb-4 checkbox-contain"},ee=i(()=>e("span",{class:"checkmark"},null,-1)),te={for:"checkbox1"},se={class:"d-flex align-items-center mb-4 checkbox-contain"},ae=i(()=>e("span",{class:"checkmark"},null,-1)),oe={for:"checkbox2"},le=i(()=>e("hr",null,null,-1)),ie={class:"color"},ne=["value"],re=i(()=>e("span",{class:"checkmark"},null,-1)),ce={for:""},de=i(()=>e("hr",null,null,-1)),he={class:"color"},ge={class:"d-flex align-items-center mb-4 checkbox-contain"},pe=i(()=>e("span",{class:"checkmark"},null,-1)),ue={for:"checkbox2"},fe=i(()=>e("img",{src:x,alt:""},null,-1)),me={class:"d-flex align-items-center mb-4 checkbox-contain"},_e=i(()=>e("span",{class:"checkmark"},null,-1)),be={for:"checkbox2"},ve=i(()=>e("img",{src:D,alt:""},null,-1)),ye=i(()=>e("hr",null,null,-1)),ke={class:"color"},Ce={class:"d-flex justify-content-between mb-5"},we={class:"rang"},Se={class:"slider-container mt-5"},xe={class:"slider-content-container"},De=i(()=>e("div",{class:"slider-value-background",id:"slider-background"},null,-1)),Ie={class:"col-8"},Le={class:"mb-5",style:{color:"#114aaf","font-size":"18px"}},Ne=i(()=>e("i",{style:{color:"#fc4c9d","font-size":"25px"},class:"mdi mdi-airplane"},null,-1)),Re=i(()=>e("br",null,null,-1)),$e={style:{"font-size":"15px","font-weight":"400","margin-inline-start":"25px"}},Fe={class:"flight-result-item","data-id":"111b656c0::FZ_846"},Ae={class:"desc-panel"},Ee={class:"clearfix"},Me={class:"flight-airline"},Be={class:"fl-img-con","data-toggle":"tooltip","data-placement":"top","data-original-title":"Flydubai"},Te={class:"clearfix ellipsis"},We={class:"flight-desc"},je={class:"desc-itinerary"},ze={class:"clearfix d-flex"},Pe={class:"inline-block vertical-middle"},Ue={class:"time color2"},Ke=i(()=>e("div",{class:"inline-block vertical-middle flight-arrow"},[e("span",{class:"mdi mdi-ray-start-arrow",style:{"font-size":"25px",margin:"0 25px",color:"#b9b9b9"}})],-1)),Ve={class:"inline-block vertical-middle"},Oe={class:"time color2"},Ze={class:"txt-duration mt10 mb0 p-3"},Xe=i(()=>e("br",null,null,-1)),Ye={class:"desc-others"},qe={key:0,src:I,alt:""},Ge={key:1,src:L,alt:""},He={key:2,class:"seat-text available","data-i18n":"common.available"},Je={key:3,class:"seat-text available","data-i18n":"common.available"},Qe=i(()=>e("div",{class:"flight-hole"},[e("div",{class:"vertical-line"})],-1)),et={class:"price-panel text-center flight-price"},tt={class:"flex-con"},st={class:"full"},at={class:"d-flex justify-content-center align-items-center"},ot={class:"btn btn-fa-primary btn-book-flight btn-lg btn-block mt10",type:"dept","flight-type":"1",ai:"",ib:"",inbound:'[{"has_promo":0,"promotion_info":[]}]',ob:"","data-id":"111b656c0::FZ_846",value:"859.00",orig:"NaN",curr:"SAR","group-id":"","aria-expanded":"false","aria-controls":"fl-details-111b656c0FZ_846"},lt={class:"text","data-i18n":"tools.select"},it=i(()=>e("div",{class:"collapse",id:"fl-details-111b656c0FZ_846"},null,-1)),nt={layout:"app",name:"profile",data(){return{min:"299",max:"1414",minNumber:299,maxNumber:1414,numberLeft:299,numberRight:1414,sliderValue:0,width:0,drag1:{left:0},drag2:{left:200},dragging:!1,dragging2:!1,draggable:0,loading:!1,errorflights:!1,dateStart:localStorage.getItem("dateStart"),dateEnd:localStorage.getItem("dateEnd"),currancy:localStorage.getItem("currancy"),from:localStorage.getItem("from"),to:localStorage.getItem("to"),Adult:localStorage.getItem("Adult"),Child:localStorage.getItem("Child"),Infant:localStorage.getItem("Infant"),airlines:[],flights:[],selected:"0",company:[],Cheapest:1e5}},components:{},computed:{filterByflights(){return this.numberLeft!=""?this.flights.filter(s=>s.price>=this.numberLeft&&s.price<=this.numberRight&&this.company.includes(s.marketCode)&&s.stops==this.selected&&s.price<this.Cheapest):this.flights},calcWidth(){return this.drag2.left-this.drag1.left+5},isNumberKey(s){var t=s.which?s.which:event.keyCode;return!(t>31&&(t<48||t>57))}},methods:{selectedCheapest(s){this.Cheapest=s},numberWithCommas(s){return s.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"'")},setMin(){if(/[0-9]|\./.test(String.fromCharCode(event.keyCode))&&!event.shiftKey||this.disabledKeys.includes(event.keyCode)){const s=this.min.replace(/'/g,"");this.minNumber=Number(s),this.min=this.numberWithCommas(s)}else this.min=this.min.replace(String.fromCharCode(event.keyCode).toLowerCase(),"").replace(String.fromCharCode(event.keyCode),"")},setMax(){if(/[0-9]|\./.test(String.fromCharCode(event.keyCode))&&!event.shiftKey||this.disabledKeys.includes(event.keyCode)){const s=this.max.replace(/ /g,"_").replace(/'/g,"");this.maxNumber=Number(s),this.max=this.numberWithCommas(s)}else this.max=this.max.replace(String.fromCharCode(event.keyCode).toLowerCase(),"").replace(String.fromCharCode(event.keyCode),"")},startDrag(){this.dragging=!0,this.draggable=1},startDrag2(){this.dragging2=!0,this.draggable=2},stopDrag(){this.dragging=!1,this.draggable=0},stopDrag2(){this.dragging2=!1,this.draggable=0},doDrag(s){if(this.dragging||this.dragging2){if(this.draggable===1&&this.drag1.left+20<this.drag2.left){const t=s.clientX-100;t>0&&t+5<=document.getElementById("slider-background").offsetWidth&&(this.width=this.calcWidth,this.drag1.left=t,this.calcPercentLeft())}else if(this.draggable===2&&this.drag2.left-20>this.drag1.left){const t=s.clientX-100;t>0&&t+5<=document.getElementById("slider-background").offsetWidth&&(this.width=this.calcWidth,this.drag2.left=t,this.calcPercentRight())}}},calcPercentLeft(){this.numberLeft=0;const s=100/document.getElementById("slider-background").offsetWidth*this.drag1.left;this.numberLeft=(this.maxNumber+this.minNumber)*(s/100).toFixed(4)},calcPercentRight(){this.numberRight=0;const s=100/document.getElementById("slider-background").offsetWidth*this.drag2.left;this.numberRight=(this.maxNumber+this.minNumber)*(s/100).toFixed(4)},setCode(s){console.log(" ********** code **********",s)},onPriceChange(s){this.priceMin=s[0],this.priceMax=s[1]},selectedcompany(s){this.company.includes(s)?this.company-=" "+s:this.company+=" "+s,console.log(this.company)},formatDate(s){var t=new Date(s),l=""+(t.getMonth()+1),a=""+t.getDate(),c=t.getFullYear();return l.length<2&&(l="0"+l),a.length<2&&(a="0"+a),[c,l,a].join("-")},formatDate2(s){var t=new Date(s),l=""+(t.getMonth()+1),a=""+t.getDate(),c=t.getFullYear();return l.length<2&&(l="0"+l),a.length<2&&(a="0"+a),[c,l,a].join("-")},async fetch(){var s=this;const t=new URLSearchParams;t.append("from",localStorage.getItem("from")),t.append("to",localStorage.getItem("to")),t.append("city_search","0"),t.append("date",s.formatDate(s.dateStart)),t.append("ret_date",s.formatDate2(s.dateEnd)),t.append("currency",localStorage.getItem("currancy")),t.append("adult",localStorage.getItem("Adult")),t.append("child",localStorage.getItem("Child")),t.append("infant",localStorage.getItem("Infant")),t.append("trip_type","O"),t.append("n",!0),t.append("cabin[]","E"),await S.post("https://api.flyakeed.com/index.php/gds/flights",t,{}).then(function(l){if(l.status==201||l.status==200){s.airlines=l.data.data.airlines,s.flights=l.data.data.flights.render,s.loading=!0;var a=Object.keys(s.airlines);s.company=a}}).catch(function(l){l.response&&(s.loading=!0,s.errorflights=!0,console.log(l.response),setTimeout(()=>{s.$router.push("/")},3e3))})}},mounted(){window.addEventListener("mouseup",this.stopDrag),window.addEventListener("mouseup",this.stopDrag2)},created(){this.fetch(),this.width=this.calcWidth}},rt=Object.assign(nt,{setup(s){return v(async()=>{}),(t,l)=>(r(),n("div",N,[e("div",R,[e("div",$,[e("div",F,[A,e("div",E,[e("div",M,o(t.from)+"-"+o(t.to),1),e("div",B,o(t.Adult)+" Adult - Economy",1)]),e("div",T,[e("div",W,o(t.formatDate(t.dateStart)),1),j]),e("div",z,[e("div",P,o(t.formatDate(t.dateEnd)),1),U]),K])])]),e("div",V,[t.errorflights?(r(),n("div",O,[e("h2",Z,o(t.$i18n.locale=="ar"?"\u0644\u0627 \u062A\u0648\u062C\u062F \u0631\u062D\u0644\u0627\u062A \u0644\u0644\u0627\u062E\u062A\u064A\u0627\u0631\u0627\u062A \u0627\u0644\u0627\u0633\u0628\u0642\u0629":"No flights for this route"),1)])):d("",!0),t.loading?d("",!0):(r(),n("div",X,[e("h2",Y,o(t.$i18n.locale=="ar"?"\u0628\u062D\u062B \u0627\u0644\u0631\u062D\u0644\u0627\u062A":"Searching Flights"),1),q])),!t.errorflights&&t.loading?(r(),n("div",G,[e("div",H,[e("h5",J,o(t.$i18n.locale=="ar"?"\u062A\u0648\u0642\u0641":"Stops"),1),e("div",Q,[e("input",{class:"checkbox",type:"checkbox",value:"0",checked:"",onChange:l[0]||(l[0]=a=>t.selected=a.target.value)},null,32),ee,e("label",te,o(t.$i18n.locale=="ar"?"\u0631\u062D\u0644\u0629 \u0645\u0628\u0627\u0634\u0631\u0629":"Direct Flight"),1)]),e("div",se,[e("input",{class:"checkbox",type:"checkbox",value:"1",onChange:l[1]||(l[1]=a=>t.selected=a.target.value)},null,32),ae,e("label",oe,o(t.$i18n.locale=="ar"?"\u062A\u0648\u0642\u0641 1":"Stops 1"),1)]),le,e("h5",ie,o(t.$i18n.locale=="ar"?"\u0634\u0631\u0643\u0627\u062A \u0627\u0644\u0637\u064A\u0631\u0627\u0646":"Airlines"),1),(r(!0),n(u,null,f(t.airlines,(a,c,m)=>(r(),n("div",{class:"d-flex align-items-center mb-4 checkbox-contain",key:m},[y(e("input",{checked:"",class:"checkbox",type:"checkbox",value:c,"onUpdate:modelValue":l[2]||(l[2]=_=>t.company=_)},null,8,ne),[[k,t.company]]),re,e("label",ce,o(t.$i18n.locale=="ar"?a.ar:a.en),1)]))),128)),de,e("h5",he,o(t.$i18n.locale=="ar"?"\u0627\u0644\u0631\u062D\u0644\u0627\u062A":"Flights"),1),e("div",ge,[e("input",{class:"checkbox",type:"checkbox",value:"300",onChange:l[3]||(l[3]=a=>t.selectedCheapest(a.target.value))},null,32),pe,e("label",ue,[fe,h(o(t.$i18n.locale=="ar"?"\u0631\u062E\u064A\u0635":"Cheapest"),1)])]),e("div",me,[e("input",{checked:"",class:"checkbox",type:"checkbox",value:"100000",onChange:l[4]||(l[4]=a=>t.selectedCheapest(a.target.value))},null,32),_e,e("label",be,[ve,h(o(t.$i18n.locale=="ar"?"\u0645\u062A\u0648\u0641\u0631":"Available"),1)])]),ye,e("h5",ke,o(t.$i18n.locale=="ar"?"\u0627\u0644\u0633\u0639\u0631":"Price"),1),e("div",Ce,[e("span",null,o(t.min)+" "+o(t.currancy),1),e("span",null,o(t.max)+" "+o(t.currancy),1)]),e("div",we,[e("div",{onMousemove:l[7]||(l[7]=(...a)=>t.doDrag&&t.doDrag(...a)),class:"outercontainer"},[e("div",Se,[e("div",xe,[e("div",{onMousedown:l[5]||(l[5]=(...a)=>t.startDrag&&t.startDrag(...a)),class:"drag-1",style:g({left:t.drag1.left+"px"})},[e("span",null,o(Math.floor(t.numberLeft)),1)],36),De,e("div",{class:"slider-value",style:g({width:t.width+"px",left:t.drag1.left+"px"})},null,4),e("div",{onMousedown:l[6]||(l[6]=(...a)=>t.startDrag2&&t.startDrag2(...a)),class:"drag-2",style:g({left:t.drag2.left+"px"})},[e("span",null,o(Math.floor(t.numberRight)),1)],36)])])],32)])]),e("div",Ie,[e("h4",Le,[Ne,h(o(t.$i18n.locale=="ar"?"\u0639\u062F\u062F \u0627\u0644\u0631\u062D\u0644\u0627\u062A":"Departure Flight")+" ("+o(t.filterByflights.length)+") "+o(t.$i18n.locale=="ar"?"\u0641\u064A \u0627\u0644\u0646\u062A\u0627\u0626\u062C":"Results")+" ",1),Re,e("span",$e,o(t.formatDate(t.dateStart)),1)]),(r(!0),n(u,null,f(t.filterByflights,(a,c)=>(r(),n("div",{key:c,class:"animated flight-result-con mb15",ctype:"1","data-trip-type":"O","group-id":""},[e("div",Fe,[e("div",Ae,[e("div",Ee,[e("div",Me,[e("div",Be,[e("div",{class:p(`flight-image i-${a.marketCode}`)},null,2)]),e("p",Te,o(a.marketCode+a.flightNumber),1)]),e("div",We,[e("div",je,[e("div",ze,[e("div",Pe,[e("span",Ue,o(a.depTime.slice(0,2)+":"+a.depTime.slice(2,4)),1)]),Ke,e("div",Ve,[e("span",Oe,o(a.arrTime.slice(0,2)+":"+a.arrTime.slice(2,4)),1)])]),e("p",Ze,[e("span",null,[h(o(a.duration.slice(0,2)+"h "+a.arrTime.slice(2,4)+"m")+" ",1),Xe,h(" "+o(a.marketCode+a.flightNumber),1)])])]),e("div",Ye,[a.price>300?(r(),n("img",qe)):d("",!0),a.price<300?(r(),n("img",Ge)):d("",!0),a.price>300?(r(),n("p",He,o(t.$i18n.locale=="ar"?"\u0645\u062A\u0648\u0641\u0631":"Available"),1)):d("",!0),a.price<300?(r(),n("p",Je,o(t.$i18n.locale=="ar"?"\u0631\u062E\u064A\u0635":"Cheapest"),1)):d("",!0)])])])]),Qe,e("div",et,[e("div",tt,[e("div",st,[e("div",at,[e("h4",{class:p([[a.price<300?"un-co":""],"cur-price font-26 bold available"]),style:{"font-weight":"bold"}},o(a.price+" "),3),e("span",{class:p(["color",[a.price<300?"un-co":""]]),style:{"font-size":"14px"}},o(t.currancy),3)]),e("button",ot,[e("span",lt,o(t.$i18n.locale=="ar"?"\u0627\u062E\u062A\u064A\u0627\u0631":"Select"),1)])])])])]),it]))),128))])])):d("",!0)])]))}}),ht=b(rt,[["__scopeId","data-v-5976e299"]]);export{ht as default};
